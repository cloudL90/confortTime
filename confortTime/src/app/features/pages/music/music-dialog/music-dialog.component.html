<div class="comforTime-formAdd__container">
  <div class="comforTime-formAdd__row">
    <div class="comforTime-row__content">
      <div class="foto">

      </div>
      <div>
        <h1 mat-dialog-title>Music</h1>
        <h4>{{ actionTitle }}</h4>
      </div>
</div>
  </div>

  <div class="comforTime-formAdd__row">

    <div mat-dialog-content class="comforTime-dialog__content">
        <div *ngIf="data.mode === 'insert' || data.mode === 'edit'; then postTemplate; else viewTemplate">
        </div>

        <ng-template #postTemplate>
          <form [formGroup]="musicForm">
            <!-- <p>
              <input type="hidden" formControlName="book_id">
            </p> -->
            <p>
              <!-- <input type="file" name="file"  (change)="caricaFile($event)"  > -->
              <mat-form-field appearance="outline">
                <mat-label>Music Title</mat-label>
                <input matInput placeholder="insert music title" name="title" formControlName="title">
              </mat-form-field>
            </p>
            <mat-label>Image Url</mat-label>
            <input type="file" placeholder="insert music image"  id="file" formControlName="file" (change)="onFileSelected($event)">
            <p>
              <mat-form-field appearance="outline">
                <mat-label>Description</mat-label>
                <textarea matInput name="description" id="" cols="30" rows="10" name="description"
                  formControlName="description"></textarea>
              </mat-form-field>
            </p>    
              <!-- <input type="file" name="file" formControlName=""(change)="onFileSelected($event)"> -->
              <!-- <mat-form-field>
                <ngx-mat-file-input formControlName="file" placeholder="Basic Input" ></ngx-mat-file-input>
                <mat-icon matSuffix>folder</mat-icon>
              </mat-form-field> -->
              <div class="form-group">
                <p>
                  <mat-form-field appearance="outline">
                    <mat-label>Artist name</mat-label>
                    <input matInput placeholder="insert music artist name" [formControl]="getControl('artist.name')" >
                  </mat-form-field>
                </p>
              </div>
              <div class="form-group">
                <p>
                  <mat-form-field appearance="outline">
                    <mat-label>Artist Group</mat-label>
                    <input matInput placeholder="insert music artist group" [formControl]="getControl('artist.group')">
                  </mat-form-field>
                </p>
              </div>
              <div class="form-group">
                  <p>
                    <mat-form-field appearance="outline">
                      <mat-label>Album Name</mat-label>
                      <input matInput placeholder="insert music album name" [formControl]="getControl('album.name')">
                    </mat-form-field>
                  </p>
                </div>
                <div class="form-group">
                  <p>
                      <mat-form-field appearance="fill">
                        <mat-label>Choose a date</mat-label>
                        <input matInput [matDatepicker]="picker" [formControl]="getControl('album.year')">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                      </mat-form-field>
                  </p> 
                </div>
          </form>
        </ng-template>
  
        <ng-template #viewTemplate>
          <comforTime-music-views-dialog [music]='data.rowData'></comforTime-music-views-dialog>
        </ng-template>
  
        <!-- mat dialog commands -->
        <div mat-dialog-actions [align]="'end'">
          <button mat-raised-button [disabled]="!musicForm.valid"  (click)="sendData(musicForm)"
            color="primary">{{actionBtn}}</button>
          <button mat-raised-button color="warn" mat-dialog-close>Close</button>
        </div>
      </div>
  </div>


</div>


